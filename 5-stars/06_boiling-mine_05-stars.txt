// cancel animation
? item.left.state = 3
  equipL wand *0 +0
  equipL @item.left@
? item.right.state = 3
  equipR shield *0 +0
  equipR @item.right@

? loc = mine
  ? loc.begin & item.potion = empty
    brew wood + bronze // berserk potion

  ? summon.GetId() ! "cinderwisp"
    equipL triskelion
    equipR fire talisman
    activate R
  :
    ? foe.distance > 17
      equipL triskelion
      equipR compound shield *10

    ? foe.distance <= 17
      equipL triskelion
      equipR compound shield *10

    ? foe.distance <= 6
      equip skeleton arm
      ? item.CanActivate("skeleton_arm") &
      ^ item.GetCooldown("skeleton_arm") <= 0 &
      ^ foe.debuffs.string = "pick_pocket:2"
        activate R
    
    ? item.CanActivate()
      ? item.GetCooldown("quarterstaff") <= 0
        equip quarterstaff *10
        activate R
      
      ? foe.count >= 5 &
      ^ item.GetCooldown("blade") <= 0
        equip blade
        activate R

  ? foe = bronze_guardian
    ? !item.CanActivate()
      equipL triskelion
      ? hp = maxhp
        equipR mask
      :
        equipR ouroboros
    :
      ? buffs.string = smite &
      ^ foe.debuffs.string ! debuff_damage &
      ^ foe.debuffs.string ! debuff_dot
        equipL poison wand dP *10
        equipR fire wand dF *10
      :
        equipL aether wand dU *10
        equipR aether wand D *10

      ? item.potion = berserk
        activate potion

      ? item.GetCooldown("mask") <= 0
        equipR mask
        activate R

    ? foe.state = 32 & foe.time >= 30
      equipL mind
      equipR mask

? pickup.distance <= 10
  equipL triskelion
  equipR star

>@totaltime@/@loc.averageTime@ (@loc.bestTime@)